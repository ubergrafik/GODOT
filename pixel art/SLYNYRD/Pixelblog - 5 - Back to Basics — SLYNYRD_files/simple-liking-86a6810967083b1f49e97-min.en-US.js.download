(function(u){function e(e){var t=e[0];var r=e[1];var n=e[2];var a,i,o=0,s=[];for(;o<t.length;o++){i=t[o];Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&s.push(c[i][0]);c[i]=0}for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(u[a]=r[a]);f&&f(e);while(s.length)s.shift()();p.push.apply(p,n||[]);return l()}function l(){var e;for(var t=0;t<p.length;t++){var r=p[t];var n=true;for(var a=1;a<r.length;a++){var i=r[a];0!==c[i]&&(n=false)}if(n){p.splice(t--,1);e=o(o.s=r[0])}}return e}var r={};var c={"simple-liking":0};var p=[];function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:false,exports:{}};u[e].call(t.exports,t,t.exports,o);t.l=true;return t.exports}o.m=u;o.c=r;o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:r})};o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})};o.t=function(t,e){1&e&&(t=o(t));if(8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);o.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r};o.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};o.d(e,"a",e);return e};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="https://assets.squarespace.com/universal/scripts-compressed/";var t=window["wpJsonpStyleLoader"]=window["wpJsonpStyleLoader"]||[];var n=t.push.bind(t);t.push=e;t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var f=n;p.push(["./src/main/webapp/universal/scripts-v6/rollups/simple-liking.manifest.js","moment-js-vendor","common-vendors"]);return l()})({"./src/main/webapp/universal/scripts-v6/rollups/simple-liking.manifest.js":function(e,t,r){r("./src/main/webapp/universal/scripts-v6/simple-liking.js")},"./src/main/webapp/universal/scripts-v6/simple-liking.js":function(e,t,r){var s=r("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var u=r("./src/main/webapp/universal/src/shared/utils/SimpleLikingAPI.js");YUI.add("squarespace-simple-liking",function(o){var t=o.config.win.Static;o.Squarespace.SimpleLike={TEXT_LIKE_VERB_NONE:s("No Likes"),TEXT_LIKE_VERB_SINGULAR:s("Like"),TEXT_LIKE_VERB_PLURAL:s("Likes"),TEXT_LIKE_ACTIVATED:s("You like this"),TEXT_LIKE_SUGGEST:s("Click to like"),attached:false,attach:function(){if(this.attached)return;this.attached=true;var i;try{if(localStorage){i=o.JSON.parse(localStorage.getItem("squarespace-likes"));i=i||{};localStorage.setItem("squarespace-likes",o.JSON.stringify(i))}}catch(e){i={}}this.eventHandlers=[];var e=o.delegate("click",function e(t){var r=t.currentTarget;var n=r.getAttribute("data-item-id");if(!n)return;for(var a=0;a<5;++a)o.Squarespace.SimpleLike.burst(r);if(r.hasClass("clicked")||r.hasClass("float"))return;u.like(n).then(function(e){if(true===e.commited){if(r&&r.getDOMNode()){var t=parseInt(r.getAttribute("data-like-count"),10);r.setAttribute("data-like-count",t+1);o.Squarespace.SimpleLike.renderLikeCount(r);r.addClass("clicked")}try{if(localStorage){i[n]=true;localStorage.setItem("squarespace-likes",o.JSON.stringify(i))}}catch(e){console.warn("Unable to save like to local storage: ",e)}}e.error&&(o.Squarespace.Utils.areCookiesEnabled()||o.config.win.alert(s("You need to enable cookies to be able to like something.")))}).catch(function(e){false})},"body",".sqs-simple-like");this.eventHandlers.push(e);o.all(".sqs-simple-like").each(function(r){var e=r.getAttribute("data-item-id");if(!e)return;t.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled||r.remove();i[e]&&r.addClass("clicked");u.getLikeCount(e).then(function e(t){r.setAttribute("data-like-count",t);o.Squarespace.SimpleLike.renderLikeCount(r)}).catch(function e(){o.Squarespace.SimpleLike.renderLikeCount(r)})})},detach:function(){this.attached=false;this.eventHandlers.forEach(function(e){e.detach()})},renderLikeCount:function e(t){var r=t&&t.getDOMNode?t.getDOMNode():t;if(!r||!r.ownerDocument||!r.ownerDocument.defaultView)return;var n=t.getAttribute("data-item-id");var a=t.getAttribute("data-like-count");var i=t.one(".like-count");if(!n||!i)return;i.setContent(this.formatLikeText(a))},formatLikeText:function(e){if(0===e)return o.Squarespace.SimpleLike.TEXT_LIKE_VERB_NONE;if(1===e)return"1 "+o.Squarespace.SimpleLike.TEXT_LIKE_VERB_SINGULAR;return e+" "+o.Squarespace.SimpleLike.TEXT_LIKE_VERB_PLURAL},burst:function(e){var t=e.cloneNode(true);t.one(".like-count")&&t.one(".like-count").remove();var r=e.one(".like-icon");r&&"none"!==r.getStyle("display")||(r=e);t.setStyles({position:"absolute",left:r.getX()+"px",top:r.getY()+"px"});o.one(o.config.doc.body).append(t);var n=new o.Anim({node:t,duration:2,easing:o.Easing.easeOut});n.set("to",{curve:o.Squarespace.SimpleLike.randomCurve(t)});n.on("end",function(){this.get("node").remove()});n.run();t.removeClass("clicked");t.addClass("float")},randomCurve:function(e){var t=[];var r=3;var n=30;var a=Math.floor(2*Math.random())?1:-1;var i=Math.floor(2*Math.random())?1:-1;var o=e.getX();var s=e.getY();var u=0;for(;u<r;++u){o+=Math.floor(Math.random()*n)*a;s+=Math.floor(Math.random()*n)*i;t.push([o,s])}return t}};o.config.win.Squarespace.onInitialize(o,function(){t.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled&&o.Squarespace.SimpleLike.attach()});o.config.win.Squarespace.onDestroy(o,function(){true===o.Squarespace.SimpleLike.attached&&o.Squarespace.SimpleLike.detach()})},"1.0",{requires:["anim","json","node","squarespace-util"]})},"./src/main/webapp/universal/src/shared/utils/SimpleLikingAPI.js":function(e,t,r){"use strict";var n=r("./common/temp/node_modules/@sqs/network/lib/index.js").default;var a=",";var i=function e(t){return n.post("/api/content-items/"+t+"/sentiment/like").then(function(e){var t=e.data;return t})};var o=[];var s=null;var u=function e(){var t=o.map(function(e){return e.itemId}).join(a);n.get("/api/blog-like-count/".concat(t)).then(function(e){var t=e.data;o.forEach(function(e){if(t.hasOwnProperty(e.itemId)){e.resolve(t[e.itemId]);return}e.reject()});o=[];s=null})};var l=function e(r){return new Promise(function(e,t){o.push({itemId:r,resolve:e,reject:t});null!==s&&clearTimeout(s);s=setTimeout(u,100)})};var c=function e(t){return l(t)};e.exports={like:i,getLikeCount:c}}});
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/simple-liking-5523687ed7ecaeebe744e-min.en-US.js.map